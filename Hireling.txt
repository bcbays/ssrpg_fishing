var utils = import Games/Fishing2/Utils
var progress = import Games/Fishing2/Progress

var level = 0
var color = #white
var ownedAmount = 0
var maxAmount = 5
var baseCost = 80
var costFactor = 0.05
var minWaitTime = 30*40
var maxWaitTime = 30*60

var sprite = ascii
#
##_{)
#''Â¯)
###/(
asciiend

func ToString()
  return "Hireling(lvl=" + level + ",color=" + color + ",cost=" + 
  ^utils.FormatCost(RealCost()) + ")"

func Make(level)
  this.level = level
  ownedAmount = progress.hirelings[level]

  ?level = 0
    color = #white
    baseCost = 80

  :?level = 1
    color = #cyan
    baseCost = 160

  :?level = 2
    color = #yellow
    baseCost = 320

  :?level = 3
    color = #green
    baseCost = 640

  :?level = 4
    color = #blue
    baseCost = 1280

  :?level = 5
    color = #red
    baseCost = 2560

  :?level = 6
    color = #rainbow
    baseCost = 5120
  
  :
    utils.Panic("Unsupported hireling level: " + level)

  return this

func RealCost()
    return math.RoundToInt(baseCost * (1 + ownedAmount * costFactor))